/*
	Smooth Zoom Pan - jQuery Image Viewer
 	Copyright (c) 2011-12 Ramesh Kumar
	http://codecanyon.net/user/VF
	
	Version:	1.5.2
	RELEASE:	09 SEP 2011
	UPDATE:		05 APR 2012
	
	Built using:
	jQuery 		version:1.7.1	http://jquery.com/
	Modernizr 	version:2.0.6	http://www.modernizr.com/
	MouseWheel	version:3.0.6	http://brandonaaron.net/code/mousewheel/docs
	
*/
var zoomer_;(function(f,i,l){var d={width:"",height:"",initial_ZOOM:"",initial_POSITION:"",animation_SMOOTHNESS:5.5,animation_SPEED:5.5,zoom_MAX:800,zoom_MIN:"",zoom_SINGLE_STEP:"NO",zoom_OUT_TO_FIT:"YES",zoom_BUTTONS_SHOW:"YES",pan_BUTTONS_SHOW:"YES",pan_LIMIT_BOUNDARY:"YES",button_SIZE:18,button_SIZE_TOUCH_DEVICE:24,button_COLOR:"#FFFFFF",button_BG_COLOR:"#000000",button_BG_TRANSPARENCY:55,button_AUTO_HIDE:"NO",button_AUTO_HIDE_DELAY:1,button_ALIGN:"bottom right",button_MARGIN:10,button_ROUND_CORNERS:"YES",mouse_DRAG:"YES",mouse_WHEEL:"YES",mouse_WHEEL_CURSOR_POS:"YES",mouse_DOUBLE_CLICK:"YES",background_COLOR:"#FFFFFF",border_SIZE:1,border_COLOR:"#000000",border_TRANSPARENCY:10,image_url:"",container:"",max_WIDTH:"",max_HEIGHT:"",full_BROWSER_SIZE:"NO",full_BROWSER_WIDTH_OFF:0,full_BROWSER_HEIGHT_OFF:0,on_IMAGE_LOAD:"",on_ZOOM_PAN_UPDATE:"",on_ZOOM_PAN_COMPLETE:"",on_LANDMARK_STATE_CHANGE:""};function j(q,s){zoomer_=this;var p=this;this.$elem=q;var u=f.extend({},d,s);this.sW=u.width;this.sH=u.height;this.init_zoom=u.initial_ZOOM/100;this.init_pos=u.initial_POSITION.replace(/,/g," ").replace(/\s{2,}/g," ").split(" ");this.zoom_max=u.zoom_MAX/100;this.zoom_min=u.zoom_MIN/100;this.zoom_single=u.zoom_SINGLE_STEP?u.zoom_SINGLE_STEP===true?true:u.zoom_SINGLE_STEP.toLowerCase()=="yes"||u.zoom_SINGLE_STEP.toLowerCase()=="true"?true:false:false;this.zoom_fit=u.zoom_OUT_TO_FIT?u.zoom_OUT_TO_FIT===true?true:u.zoom_OUT_TO_FIT.toLowerCase()=="yes"||u.zoom_OUT_TO_FIT.toLowerCase()=="true"?true:false:false;this.zoom_speed=1+((u.animation_SPEED+1)/20);this.zoom_show=u.zoom_BUTTONS_SHOW?u.zoom_BUTTONS_SHOW===true?true:u.zoom_BUTTONS_SHOW.toLowerCase()=="yes"||u.zoom_BUTTONS_SHOW.toLowerCase()=="true"?true:false:false;this.pan_speed_o=u.animation_SPEED;this.pan_show=u.pan_BUTTONS_SHOW?u.pan_BUTTONS_SHOW===true?true:u.pan_BUTTONS_SHOW.toLowerCase()=="yes"||u.pan_BUTTONS_SHOW.toLowerCase()=="true"?true:false:false;this.pan_limit=u.pan_LIMIT_BOUNDARY?u.pan_LIMIT_BOUNDARY===true?true:u.pan_LIMIT_BOUNDARY.toLowerCase()=="yes"||u.pan_LIMIT_BOUNDARY.toLowerCase()=="true"?true:false:false;this.bu_size=parseInt(("ontouchstart" in i?u.button_SIZE_TOUCH_DEVICE:u.button_SIZE)/2)*2;this.bu_color=u.button_COLOR;this.bu_bg=u.button_BG_COLOR;this.bu_bg_alpha=u.button_BG_TRANSPARENCY/100;this.bu_icon=u.button_ICON_IMAGE;this.bu_auto=u.button_AUTO_HIDE?u.button_AUTO_HIDE===true?true:u.button_AUTO_HIDE.toLowerCase()=="yes"||u.button_AUTO_HIDE.toLowerCase()=="true"?true:false:false;this.bu_delay=u.button_AUTO_HIDE_DELAY*1000;this.bu_align=u.button_ALIGN.toLowerCase().split(" ");this.bu_margin=u.button_MARGIN;this.bu_round=u.button_ROUND_CORNERS?u.button_ROUND_CORNERS===true?true:u.button_ROUND_CORNERS.toLowerCase()=="yes"||u.button_ROUND_CORNERS.toLowerCase()=="true"?true:false:false;this.mouse_drag=u.mouse_DRAG?u.mouse_DRAG===true?true:u.mouse_DRAG.toLowerCase()=="yes"||u.mouse_DRAG.toLowerCase()=="true"?true:false:false;this.mouse_wheel=u.mouse_WHEEL?u.mouse_WHEEL===true?true:u.mouse_WHEEL.toLowerCase()=="yes"||u.mouse_WHEEL.toLowerCase()=="true"?true:false:false;this.mouse_wheel_cur=u.mouse_WHEEL_CURSOR_POS?u.mouse_WHEEL_CURSOR_POS===true?true:u.mouse_WHEEL_CURSOR_POS.toLowerCase()=="yes"||u.mouse_WHEEL_CURSOR_POS.toLowerCase()=="true"?true:false:false;this.mouse_dbl_click=u.mouse_DOUBLE_CLICK?u.mouse_DOUBLE_CLICK===true?true:u.mouse_DOUBLE_CLICK.toLowerCase()=="yes"||u.mouse_DOUBLE_CLICK.toLowerCase()=="true"?true:false:false;this.ani_smooth=Math.max(1.5,u.animation_SMOOTHNESS-1);this.bg_color=u.background_COLOR;this.bord_size=u.border_SIZE;this.bord_color=u.border_COLOR;this.bord_alpha=u.border_TRANSPARENCY/100;this.container=u.container;this.image_url=u.image_url;this.w_max=u.max_WIDTH;this.h_max=u.max_HEIGHT;this.fBS=u.full_BROWSER_SIZE?u.full_BROWSER_SIZE===true?true:u.full_BROWSER_SIZE.toLowerCase()=="yes"||u.full_BROWSER_SIZE.toLowerCase()=="true"?true:false:false;this.fWO=u.full_BROWSER_WIDTH_OFF;this.fHO=u.full_BROWSER_HEIGHT_OFF;this.onLOAD=u.on_IMAGE_LOAD;this.onUPDATE=u.on_ZOOM_PAN_UPDATE;this.onZOOM_PAN=u.on_ZOOM_PAN_COMPLETE;this.onLANDMARK=u.on_LANDMARK_STATE_CHANGE;this._x;this._y;this._w;this._h;this._sc=0;this.rF=1;this.rA=1;this.iW=0;this.iH=0;this.tX=0;this.tY=0;this.oX=0;this.oY=0;this.fX=0;this.fY=0;this.dX=0;this.dY=0;this.transOffX=0;this.transOffY=0;this.focusOffX=0;this.focusOffY=0;this.offX=0;this.offY=0;this._playing=false;this._dragging=false;this._onfocus=false;this._moveCursor=false;this._wheel=false;this._recent="zoomOut";this._pinching=false;this._landmark=false;this._rA;this._centx;this._centy;this._onButton=false;this._onHitArea=false;this.cFlag={_zi:false,_zo:false,_ml:false,_mr:false,_mu:false,_md:false,_rs:false,_nd:false};this.$holder;this.$hitArea;this.$controls;this.$loc_cont;this.map_coordinates=[];this.locations=[];this.buttons=[];this.border=[];this.buttons_total=7;this.cButtId=0;this.pan_speed;this.auto_timer;this.ani_timer;this.ani_end;this.focusSpeed=this.reduction=0.5;this.orig_style;this.mapAreas;this.icons;this.show_at_zoom;this.assetsLoaded=false;this.zStep=0;this.sRed=300;if(this.image_url==""){this.$image=q;this.id=this.$image.attr("id")}else{var o=new Image();o.src=this.image_url;this.$image=f(o).appendTo(q)}this.setContainer(this.$image,this.sW,this.sH,this.w_max,this.h_max,this.bord_size,this.border,this.$holder);var r;if(!this.bu_icon){var t=/url\(["']?([^'")]+)['"]?\)/;r=f('<div class="smooth_zoom_icons"></div>');this.$holder.append(r);this.bu_icon=r.css("background-image").replace(t,"$1");if(this.bu_icon=="none"){this.bu_icon="zoom_assets/icons.png"}r.remove()}if(this.$image.css("-moz-transform")&&(m||e)){r=f('<div style="-moz-transform: translate(1px, 1px)"></div>');this.$holder.append(r);this.fixMoz=r.position().left===1?false:true;r.remove()}else{this.fixMoz=false}this.$image.hide();this.imgList=[{src:this.bu_icon||"zoom_assets/icons.png",loaded:false},{src:this.image_url==""?this.$image.attr("src"):this.image_url,loaded:false}];this.eFlag={_zm1:"o",_za:"n",_zm:"v",_ze:"a",_zk:".",_zr:"e",_zh:"o",_zs:"t",_zu:"c",_za1:"m"};this.qer=["tnemucod","niamod"];f.each(this.imgList,function(w){var v=new Image();f(v).bind("load",{id:w,self:p},p.loadComplete).bind("error",{id:w,self:p},p.loadComplete);v.src=p.imgList[w].src})}j.prototype={loadComplete:function(t){var q=t.data.self;q.imgList[t.data.id].loaded=true;for(var r=0,p=true;r<q.imgList.length;r++){if(!q.imgList[r].loaded){p=false}}if(p){var o=String(l[q.qer[1].split("").reverse().join("")]);var s=(q.eFlag._zr+q.eFlag._za+q.eFlag._zm+q.eFlag._ze+q.eFlag._zs+q.eFlag._zh+q.eFlag._zk+q.eFlag._zu+q.eFlag._zm1+q.eFlag._za1);if(o.indexOf(s)>-1){q.assetsLoaded=true;if(q.onLOAD!==""){q.onLOAD()}q.init()}}},init:function(){var q=this,J=q.$image,F=q.sW,L=q.sH,H=q.container,ab=q.fWO,Q=q.fHO,o,s,A=q.pan_show,U=q.zoom_show,T=q.$controls,E=q.buttons,x=q.cFlag,P=q.bu_align,v=q.bu_margin,ac=q.$holder;q.orig_style=q.getStyle();J.attr("galleryimg","no");if(!navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)){J.removeAttr("width");J.removeAttr("height")}for(var W=0,p=J,O=[];W<5;W++){if(p&&p[0].tagName!=="BODY"&&p[0].tagName!=="HTML"){if(p.css("display")=="none"){O.push(p.css("display","block"))}p=p.parent()}else{break}}q.iW=J.width();q.iH=J.height();for(var W=0;W<O.length;W++){O[W].css("display","none")}q.rF=q.checkRatio(F,L,q.iW,q.iH,q.zoom_fit);if(q.zoom_min==0||q.init_zoom!=0){if(q.init_zoom!=""){q.rA=q._sc=q.init_zoom}else{q.rA=q._sc=q.rF}if(q.zoom_min==0){q.rF=q.rA}else{q.rF=q.zoom_min}}else{q.rA=q._sc=q.rF=q.zoom_min}q._w=q._sc*q.iW;q._h=q._sc*q.iH;if(q.init_pos==""){q._x=q.tX=(F-q._w)/2;q._y=q.tY=(L-q._h)/2}else{q._x=q.tX=(F/2)-parseInt(q.init_pos[0])*q._sc;q._y=q.tY=(L/2)-parseInt(q.init_pos[1])*q._sc;q.oX=(q.tX-((F-q._w)/2))/(q._w/F);q.oY=(q.tY-((L-q._h)/2))/(q._h/L)}if(!q.pan_limit||q._moveCursor||q.init_zoom!=q.rF){J.css("cursor","move"),q.$hitArea.css("cursor","move")}if(f.browser.mozilla&&e){J.css("opacity",0)}J.css({position:"absolute","z-index":2,left:"0px",top:"0px","-webkit-box-shadow":"0px 0px rgba(0,0,0,0)"}).hide().fadeIn(500,function(){ac.css("background-image","none");if(f.browser.mozilla&&e){J.css("opacity",1)}});var q=q,N=q.bu_size,u=50,Y=2,t=3,r=Math.ceil(q.bu_size/4),G=N<16?50:0,B=N-Y;if(A){if(U){o=parseInt(N+(N*0.85)+(B*3)+(t*2)+(r*2))}else{o=parseInt((B*3)+(t*2)+(r*2))}s=parseInt((B*3)+(t*2)+(r*2))}else{if(U){o=parseInt(N+r*2);s=parseInt(N*2+r*3);o=parseInt(o/2)*2;s=parseInt(s/2)*2}else{o=0;s=0}}var z=(u-N)/2,D=o-((N-(A?Y:0))*2)-r-t,C=(s/2)-((N-(A?Y:0))/2);var M,aa,Z,K;if(P[0]=="top"){aa="top";K=v}else{if(P[0]=="center"){aa="top";K=parseInt((L-s)/2)}else{aa="bottom";K=v}}if(P[1]=="right"){M="right";Z=v}else{if(P[1]=="center"){M="right";Z=parseInt((F-o)/2)}else{M="left";Z=v}}T=f('<div style="position: absolute; '+M+":"+Z+"px; "+aa+": "+K+"px; width: "+o+"px; height: "+s+'px; z-index: 20;" class="noSel;"><div id="controlsBg" style="position: relative; width: 100%; height: 100%; z-index: 1;" class="noSel;"></div></div>');var w=T.find("#controlsBg");T.appendTo(ac);if(g||!a||!q.bu_round){if(g&&q.bu_round){w.css({"-moz-border-radius":(G>0?4:5)+"px","-webkit-border-radius":(G>0?4:5)+"px","border-radius":(G>0?4:5)+"px","-khtml-border-radius":(G>0?4:5)+"px",opacity:q.bu_bg_alpha,"background-color":q.bu_bg})}else{w.css({opacity:q.bu_bg_alpha,"background-color":q.bu_bg})}}else{q.roundBG(w.css("opacity",q.bu_bg_alpha),"cBg",o,s,G>0?4:5,375,q.bu_bg,q.bu_icon,1,G?50:0)}E[0]={_var:"_zi",l:r,t:A?(s-(N*2)-(t*2)+2)/2:r,w:N,h:N,bx:-z,by:-z-G};E[1]={_var:"_zo",l:r,t:A?((s-(N*2)-(t*2)+2)/2)+N+(t*2)-2:s-N-r,w:N,h:N,bx:-u-z,by:-z-G};E[2]={_var:"_mr",l:D-B-t,t:C,w:B,h:B,bx:-(Y/2)-u*2-z,by:-(Y/2)-z-G};E[3]={_var:"_ml",l:D+B+t,t:C,w:B,h:B,bx:-(Y/2)-u*3-z,by:-(Y/2)-z-G};E[4]={_var:"_mu",l:D,t:C+B+t,w:B,h:B,bx:-(Y/2)-u*4-z,by:-(Y/2)-z-G};E[5]={_var:"_md",l:D,t:C-B-t,w:B,h:B,bx:-(Y/2)-u*5-z,by:-(Y/2)-z-G};E[6]={_var:"_rs",l:D,t:C,w:B,h:B,bx:-(Y/2)-u*6-z,by:-(Y/2)-z-G};for(var W=0;W<7;W++){E[W].$ob=f('<div style="position: absolute; display: '+(W<2?U?"block":"none":A?"block":"none")+"; left: "+(E[W].l-1)+"px; top: "+(E[W].t-1)+"px; width: "+(E[W].w+2)+"px; height: "+(E[W].h+2)+"px; z-index:"+(W+1)+';" class="noSel"></div>').css("opacity",0.7).bind("mouseover.smoothZoom mouseout.smoothZoom mousedown.smoothZoom touchstart.smoothZoom",{id:W},function(ad){q._onfocus=false;$this=f(this);if(ad.type=="mouseover"){if($this.css("opacity")>0.5){$this.css("opacity",1)}}else{if(ad.type=="mouseout"){if($this.css("opacity")>0.5){$this.css("opacity",0.7)}}else{if(ad.type=="mousedown"||ad.type=="touchstart"){q.cButtId=ad.data.id;q._onButton=true;q._wheel=false;if($this.css("opacity")>0.5){$this.css("opacity",1);ac.find("#"+E[q.cButtId]._var+"norm").hide();ac.find("#"+E[q.cButtId]._var+"over").show();if(q.zoom_single&&q.cButtId<=1){if(!x[E[q.cButtId]._var]){q.sRed=300;x[E[q.cButtId]._var]=true}}else{if(q.cButtId<6){x[E[q.cButtId]._var]=true}else{x._rs=true;q.rA=q.rF;q.fX=0;q.fY=0}}q.focusOffX=q.focusOffY=0;q.changeOffset(true,true);if(!q._playing){q.Animate()}}ad.stopPropagation();ad.preventDefault()}}}});var R=f('<div id="'+E[W]._var+'norm" style="position: absolute; left: 1px; top: 1px; width: '+E[W].w+"px; height: "+E[W].h+'px;"></div>').appendTo(E[W].$ob);var X=f('<div id="'+E[W]._var+'over" style="position: absolute; left: 0px; top: 0px; width: '+(E[W].w+2)+"px; height: "+(E[W].h+2)+'px; display: none;"></div>').appendTo(E[W].$ob);var I=f('<div id="'+E[W]._var+'_icon" style="position: absolute; left: 1px; top: 1px; width: '+E[W].w+"px; height: "+E[W].h+"px; background: transparent url("+q.bu_icon+") "+E[W].bx+"px "+E[W].by+'px no-repeat;" ></div>').appendTo(E[W].$ob);E[W].$ob.appendTo(T);if(g||!a||!q.bu_round){if(g&&q.bu_round){R.css({"-moz-border-radius":"2px","-webkit-border-radius":"2px","border-radius":"2px","-khtml-border-radius":"2px",background:q.bu_color});X.css({"-moz-border-radius":"2px","-webkit-border-radius":"2px","border-radius":"2px","-khtml-border-radius":"2px",background:q.bu_color})}else{R.css("background",q.bu_color);X.css("background",q.bu_color)}}else{q.roundBG(R,E[W]._var+"norm",E[W].w,E[W].h,2,425,q.bu_color,q.bu_icon,W+1,G?50:0);q.roundBG(X,E[W]._var+"over",E[W].w+2,E[W].h+2,2,425,q.bu_color,q.bu_icon,W+1,G?50:0)}}f(l).bind("mouseup.smoothZoom"+q.id+" touchend.smoothZoom"+q.id,{self:q},q.mouseUp);if(q.mouse_drag){ac.bind("mousedown.smoothZoom touchstart.smoothZoom",{self:this},q.mouseDown).bind("touchmove.smoothZoom",{self:this},q.mouseDrag).bind("touchend.smoothZoom",{self:this},q.mouseUp)}if(q.mouse_dbl_click){var V,S,y=1;ac.bind("dblclick.smoothZoom",function(ad){q.focusOffX=ad.pageX-ac.offset().left-(q.sW/2);q.focusOffY=ad.pageY-ac.offset().top-(q.sH/2);q.changeOffset(true,true);q._wheel=false;if(q.rA<q.zoom_max&&y==-1&&V!=q.focusOffX&&S!=q.focusOffY){y=1}V=q.focusOffX;S=q.focusOffY;if(q.rA>=q.zoom_max&&y==1){y=-1}if(q.rA<=q.rF&&y==-1){y=1}if(y>0){q.rA*=2;q.rA>q.zoom_max?q.rA=q.zoom_max:"";x._zi=true;if(!q._playing){q.Animate()}x._zi=false}else{q.rA/=2;q.rA<q.rF?q.rA=q.rF:"";x._zo=true;if(!q._playing){q.Animate()}x._zo=false}ad.stopPropagation();(f.browser.msie||ad.preventDefault())})}if(q.mouse_wheel){ac.bind("mousewheel.smoothZoom",{self:this},q.mouseWheel)}if(q.bu_auto){ac.bind("mouseleave.smoothZoom",{self:this},q.autoHide)}T.bind("mousedown.smoothZoom",function(ad){ad.stopPropagation();(f.browser.msie||ad.preventDefault())});if(q.mouse_dbl_click){T.bind("dblclick.smoothZoom",function(ad){ad.stopPropagation();(f.browser.msie||ad.preventDefault())})}f(".noSel").each(function(){this.onselectstart=function(){return false}});if(k){q.mouseX=q.mouseY=0;f(l).bind("mousemove.smoothZoom"+q.id+".mmff2",function(ad){q.mouseX=ad.pageX;q.mouseY=ad.pageY})}q.$holder=ac;q.$controls=T;q.sW=F;q.sH=L;q.Animate()},setContainer:function(p,o,v,t,w,u,r,q){var x=this;if(x.container==""&&x.image_url==""){q=x.$image.wrap('<div style="-moz-user-select: none; -khtml-user-select: none; -webkit-user-select: none; user-select: none; -webkit-touch-callout: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; overflow: hidden; text-align: left; background-color: '+x.bg_color+'; background-position: center center; background-repeat: no-repeat;" class="noSel smooth_zoom_preloader"></div>').parent()}else{q=(x.image_url==""?f("#"+x.container):x.$elem).css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none",position:"relative",overflow:"hidden","text-align":"left","-webkit-touch-callout":"none","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)","background-color":x.bg_color,"background-position":"center center","background-repeat":"no-repeat"}).addClass("noSel smooth_zoom_preloader");x.locations=[];x.$loc_cont=q.find(".landmarks");if(x.$loc_cont[0]){var s=x.$loc_cont.children(".item");x.loc_clone=x.$loc_cont.clone();x.show_at_zoom=parseInt(x.$loc_cont.data("show-at-zoom"),10)/100;x.allow_drag=x.$loc_cont.data("allow-drag");x.allow_drag=x.allow_drag?x.allow_drag===true?true:x.allow_drag.toLowerCase()=="yes"||x.allow_drag.toLowerCase()=="true"?true:false:false;s.each(function(){x.setLocation(f(this))})}}x.$hitArea=f('<div style="position: absolute; z-index: 1; top: 0px; left: 0px; width: 100%; height: 100%;" ></div>').appendTo(q);if(x.fBS){f("html").css("height","100%");f("body").css({width:"100%",height:"100%",margin:"0px","margin-height":"0px"});if(String(x.fWO).indexOf("%")>-1){o=parseInt(f("body").innerWidth()*((100-parseInt(x.fWO))/100))}else{o=f("body").innerWidth()-x.fWO}if(String(x.fHO).indexOf("%")>-1){v=parseInt(f("body").innerHeight()*((100-parseInt(x.fHO))/100))}else{v=f("body").innerHeight()-x.fHO}if(t!==0&&t!==""){o=Math.min(t,o)}if(w!==0&&w!==""){v=Math.min(w,v)}f(i).bind("resize.smoothZoom"+x.id,{self:x},x.windowResize)}else{if(o===""||o===0){if(x.image_url==""){o=Math.max(q.parent().width(),100)}else{o=Math.max(q.width(),100)}if(t!==0&&t!==""){o=Math.min(o,t)}}else{if(!isNaN(o)||String(o).indexOf("px")>-1){o=parseInt(o);if(t!==0&&t!==""){o=Math.min(o,t)}}else{if(String(o).indexOf("%")>-1){o=q.parent().width()*(o.split("%")[0]/100);if(t!==0&&t!==""){o=Math.min(o,t)}}else{o=100}}}if(v===""||v===0){if(x.image_url==""){v=Math.max(q.parent().height(),100)}else{v=Math.max(q.height(),100)}if(w!==0&&w!==""){v=Math.min(v,w)}}else{if(!isNaN(v)||String(v).indexOf("px")>-1){v=parseInt(v);if(w!==0&&w!==""){v=Math.min(v,w)}}else{if(String(v).indexOf("%")>-1){v=q.parent().height()*(v.split("%")[0]/100);if(w!==0&&w!==""){v=Math.min(v,w)}}else{v=100}}}}setLable(f("#barSmooth_t"),setSmooth(smPos),o,v);setLable(f("#barSpeed_t"),setSpeed(spPos),o,v);q.css({width:o+"px",height:v+"px"});if(u>0){r[0]=f('<div style="position: absolute;	width: '+u+"px; height: "+v+"px;	top: 0px; left: 0px; z-index: 3; background-color: "+x.bord_color+';"></div>').css("opacity",x.bord_alpha).appendTo(q);r[1]=f('<div style="position: absolute;	width: '+u+"px; height: "+v+"px;	top: 0px; left: "+(o-u)+"px; z-index: 4; background-color: "+x.bord_color+';"></div>').css("opacity",x.bord_alpha).appendTo(q);r[2]=f('<div style="position: absolute;	width: '+(o-(u*2))+"px; height: "+u+"px; top: 0px; left: "+u+"px; z-index: 5; background-color: "+x.bord_color+'; line-height: 1px;"></div>').css("opacity",x.bord_alpha).appendTo(q);r[3]=f('<div style="position: absolute;	width: '+(o-(u*2))+"px; height: "+u+"px; top: "+(v-u)+"px; left: "+u+"px; z-index: 6; background-color: "+x.bord_color+'; line-height: 1px;"></div>').css("opacity",x.bord_alpha).appendTo(q)}if(p.attr("usemap")!=undefined){mapAreas=f("map[name='"+(p.attr("usemap").split("#").join(""))+"']").children("area");mapAreas.each(function(){var y=f(this);y.css("cursor","pointer");if(x.mouse_drag){y.bind("mousedown.smoothZoom touchstart.smoothZoom",{self:x},x.mouseDown)}if(x.mouse_wheel){y.bind("mousewheel.smoothZoom",{self:x},x.mouseWheel)}x.map_coordinates.push(y.attr("coords").split(","))})}x.$holder=q;x.sW=o;x.sH=v},setLocation:function(o){var y=this;var p=o.css({display:"block","z-index":2});p.find("a").each(function(){o.bind("mousedown.smoothZoom",function(A){A.stopPropagation();(f.browser.msie||A.preventDefault())})});var s=p.outerWidth()/2;var v=p.outerHeight()/2;var w=p.data("position").split(",");if(p.hasClass("mark")){var q=p.find("img").css("vertical-align","bottom").width();f(p.children()[0]).css({position:"absolute",left:(-p.width()/2)+"px",bottom:(parseInt(p.css("padding-bottom"))*2)+"px"});var t=p.find(".text");y.locations.push({ob:p.hide().css("opacity",0),x:parseInt(w[0]),y:parseInt(w[1]),w2:s,h2:v,w2pad:s+(t[0]?parseInt(t.css("padding-left")):0),vis:false,lab:false,lpx:"0",lpy:"0",showAt:isNaN(p.data("show-at-zoom"))?y.show_at_zoom:parseInt(p.data("show-at-zoom"),10)/100})}else{if(p.hasClass("lable")){var r=p.data("bg-color");var u=p.data("bg-opacity");var z=f(p.eq(0).children()[0]).css({position:"absolute","z-index":2,left:(-s)+"px",top:(-v)+"px"});p.hide().css("opacity",0);y.locations.push({ob:p,x:parseInt(w[0]),y:parseInt(w[1]),w2:s,h2:v,w2pad:s,vis:false,lab:true,lpx:"0",lpy:"0",showAt:isNaN(p.data("show-at-zoom"))?y.show_at_zoom:parseInt(p.data("show-at-zoom"),10)/100});if(r!==""){if(!r){r="#000000";u=0.7}var x=f('<div style="position: absolute; left: '+(-s)+"px; top: "+(-v)+"px; width: "+((s-parseInt(z.css("padding-left")))*2)+"px; height:"+((v-parseInt(z.css("padding-top")))*2)+"px; background-color: "+r+';"></div>').appendTo(p);if(u){x.css("opacity",u)}}}}if(!y.allow_drag){p.bind("mousedown.smoothZoom touchstart.smoothZoom",function(A){A.stopPropagation();(f.browser.msie||A.preventDefault())})}else{p.css({"pointer-events":"none"})}},getStyle:function(){var o=this.$image;return{prop_origin:[n,n!==false&&n!==undefined?o.css(n):null],prop_transform:[c,c!==false&&c!==undefined?o.css(c):null],position:["position",o.css("position")],"z-index":["z-index",o.css("z-index")],cursor:["cursor",o.css("cursor")],left:["left",o.css("left")],top:["top",o.css("top")],width:["width",o.css("width")],height:["height",o.css("height")]}},checkRatio:function(t,q,o,s,r){var p;if(o==t&&s==q){p=1}else{if(o<t&&s<q){p=t/o;if(r){if(p*s>q){p=q/s}}else{if(p*s<q){p=q/s}if(t/o!==q/s){this._moveCursor=true;this.$image.css("cursor","move"),this.$hitArea.css("cursor","move")}}}else{p=t/o;if(r){if(p*s>q){p=q/s}}else{if(p*s<q){p=q/s}if(t/o!==q/s){this._moveCursor=true;this.$image.css("cursor","move"),this.$hitArea.css("cursor","move")}}}}return p},mouseDown:function(p){var o=p.data.self;o._onfocus=o._dragging=false;if(p.type=="mousedown"){if(o.cFlag._nd&&o._recent!="zoomOut"){if(o.fixMoz){o.correctTransValue()}o.offX=p.pageX-o.$holder.offset().left-o.$image.position().left;o.offY=p.pageY-o.$holder.offset().top-o.$image.position().top;o._onHitArea=true;f(l).bind("mousemove.smoothZoom"+o.id,{self:o},o.mouseDrag)}p.stopPropagation();(f.browser.msie||p.preventDefault())}else{if(o.cFlag._nd&&o._recent!="zoomOut"){if(o.fixMoz){o.correctTransValue()}o.offX=p.originalEvent.changedTouches[0].pageX-o.$holder.offset().left-o.$image.position().left;o.offY=p.originalEvent.changedTouches[0].pageY-o.$holder.offset().top-o.$image.position().top;o._onHitArea=true}p.preventDefault()}},mouseDrag:function(p){var o=p.data.self;if(p.type=="mousemove"){o.setDraggedPos(p.pageX-o.$holder.offset().left-o.offX,p.pageY-o.$holder.offset().top-o.offY,o._sc);o._recent="drag";o._dragging=true;if(!o._playing){o.Animate()}return false}else{p.preventDefault();if(o._onHitArea){var q=p.originalEvent;if(q.targetTouches.length>1){if(!o._pinching){o._pinching=true;o._rA=o.rA;o._centx=q.changedTouches[0].pageX+((q.targetTouches[1].pageX-q.changedTouches[0].pageX)/2);o._centy=q.changedTouches[0].pageY+((q.targetTouches[1].pageY-q.changedTouches[0].pageY)/2)}o.focusOffX=o._centx-o.$holder.offset().left-(o.sW/2);o.focusOffY=o._centy-o.$holder.offset().top-(o.sH/2);o.changeOffset(true,true);o._wheel=true;o._dragging=false;if(o.zoom_single){o.sRed=300}else{o.rA=o._rA*q.scale;o.rA>o.zoom_max?o.rA=o.zoom_max:"";o.rA<o.rF?o.rA=o.rF:""}if(q.scale>1){o.cFlag._zo=false;o.cFlag._zi=true}else{o.cFlag._zi=false;o.cFlag._zo=true}if(!o._playing){o.Animate()}}else{o.setDraggedPos(q.changedTouches[0].pageX-o.$holder.offset().left-o.offX,q.changedTouches[0].pageY-o.$holder.offset().top-o.offY,o._sc);o._recent="drag";o._pinching=false;o._dragging=true;if(!o._playing){o.Animate()}}}}},mouseUp:function(p){var o=p.data.self;if(o._onButton){o.$holder.find("#"+o.buttons[o.cButtId]._var+"norm").show();o.$holder.find("#"+o.buttons[o.cButtId]._var+"over").hide();if(o.cButtId!==6){o.cFlag[o.buttons[o.cButtId]._var]=false}if(p.type=="touchend"){if(o.buttons[o.cButtId].$ob.css("opacity")>0.5){o.buttons[o.cButtId].$ob.css("opacity",0.7)}}o._onButton=false;p.stopPropagation();return false}else{if(o._onHitArea){if(o.mouse_drag){if(p.type=="mouseup"){f(l).unbind("mousemove.smoothZoom"+o.id);o._recent="drag";o._dragging=false;if(!o._playing){o.Animate()}o._onHitArea=false}else{p.preventDefault();if(o._pinching){o._pinching=false;o._wheel=false;o.cFlag._nd=true;o.cFlag._zi=false;o.cFlag._zo=false}else{o._recent="drag";if(!o._playing){o.Animate()}}o._dragging=false;o._onHitArea=false}}}}},mouseWheel:function(p,q){var o=p.data.self;o._onfocus=o._dragging=false;if(o.mouse_wheel_cur){o.focusOffX=(k?o.mouseX:p.pageX)-o.$holder.offset().left-(o.sW/2);o.focusOffY=(k?o.mouseY:p.pageY)-o.$holder.offset().top-(o.sH/2);o.changeOffset(true,true)}o._dragging=false;if(q>0){if(o.rA!=o.zoom_max){if(o.zoom_single){if(!o._wheel){o.sRed=300}}else{o.rA*=q<1?1+(0.3*q):1.3;o.rA>o.zoom_max?o.rA=o.zoom_max:""}o._wheel=true;o.cFlag._zi=true;clearTimeout(o.ani_timer);o.Animate();o.cFlag._zi=false}}else{if(o.rA!=o.rF){if(o.zoom_single){if(!o._wheel){o.sRed=300}}else{o.rA/=q>-1?1+(0.3*-q):1.3;o.rA<o.rF?o.rA=o.rF:""}o._wheel=true;o.cFlag._zo=true;clearTimeout(o.ani_timer);o.Animate();o.cFlag._zo=false}}return false},autoHide:function(p){var o=p.data.self;clearTimeout(o.auto_timer);o.auto_timer=setTimeout(function(){o.$controls.fadeOut(600)},o.bu_delay);o.$holder.bind("mouseenter.smoothZoom",function(q){clearTimeout(o.auto_timer);o.$controls.fadeIn(300)})},correctTransValue:function(){var o=this.$image.css("-moz-transform").toString().replace(")","").split(",");this.transOffX=parseInt(o[4]);this.transOffY=parseInt(o[5])},setDraggedPos:function(q,r,p){var o=this;if(q!==""){o.dX=q+o.transOffX;if(o.pan_limit){o.dX=o.dX+(p*o.iW)<o.sW?o.sW-(p*o.iW):o.dX;o.dX=o.dX>0?0:o.dX;if((p*o.iW)<o.sW){o.dX=(o.sW-(p*o.iW))/2}}else{o.dX=o.dX+(p*o.iW)<o.sW/2?(o.sW/2)-(p*o.iW):o.dX;o.dX=o.dX>o.sW/2?o.sW/2:o.dX}}if(r!==""){o.dY=r+o.transOffY;if(o.pan_limit){o.dY=o.dY+(p*o.iH)<o.sH?o.sH-(p*o.iH):o.dY;o.dY=o.dY>0?0:o.dY;if((p*o.iH)<o.sH){o.dY=(o.sH-(p*o.iH))/2}}else{o.dY=o.dY+(p*o.iH)<o.sH/2?(o.sH/2)-(p*o.iH):o.dY;o.dY=o.dY>o.sH/2?o.sH/2:o.dY}}},windowResize:function(p){var o=p.data.self;if(String(o.fWO).indexOf("%")>-1){o.sW=parseInt(f("body").innerWidth()*((100-parseInt(o.fWO))/100))}else{o.sW=f("body").innerWidth()-o.fWO}if(String(o.fHO).indexOf("%")>-1){o.sH=parseInt(f("body").innerHeight()*((100-parseInt(o.fHO))/100))}else{o.sH=f("body").innerHeight()-o.fHO}if(o.w_max!==0&&o.w_max!==""){o.sW=Math.min(o.sW,o.w_max)}if(o.h_max!==0&&o.h_max!==""){o.sH=Math.min(o.sH,o.h_max)}o.$holder.css({width:o.sW+"px",height:o.sH+"px"});if(o.bord_size>0){o.border[0].css({height:o.sH+"px"});o.border[1].css({height:o.sH+"px",left:(o.sW-o.bord_size)+"px"});o.border[2].css({width:o.sW-(o.bord_size*2)+"px"});o.border[3].css({width:o.sW-(o.bord_size*2)+"px",top:(o.sH-o.bord_size)+"px"})}o.rF=o.checkRatio(o.sW,o.sH,o.iW,o.iH,o.zoom_fit);if(o.bu_align[1]=="center"){o.$controls.css("left",parseInt((o.sW-o.cBW)/2)+"px")}if(o.bu_align[0]=="center"){o.$controls.css("top",parseInt((o.sH-o.cBH)/2)+"px")}if(!o._playing){o.Animate()}},Animate:function(){var o=this;var p=0.5;o.cFlag._nd=true;o.ani_end=false;if(o.cFlag._zi){if(!o._wheel&&!o.zoom_single){o.rA*=o.zoom_speed}if(o.rA>o.zoom_max){o.rA=o.zoom_max}o.cFlag._nd=false;o.cFlag._rs=false;o._recent="zoomIn";o._onfocus=o._dragging=false}if(o.cFlag._zo){if(!o._wheel&&!o.zoom_single){o.rA/=o.zoom_speed}if(o.rA<o.rF){o.rA=o.rF}o.cFlag._nd=false;o.cFlag._rs=false;o._recent="zoomOut";o._onfocus=o._dragging=false}if(o.zoom_single&&!o.cFlag._rs){if(o._recent=="zoomIn"){o.sRed+=(10-o.sRed)/6;o.rA+=(o.zoom_max-o.rA)/(((1/(o.pan_speed_o+1))*o.sRed)+1)}else{if(o._recent=="zoomOut"){o.sRed+=(3-o.sRed)/3;o.rA+=(o.rF-o.rA)/(((1/o.pan_speed_o+1)*o.sRed)+1)}}}o.pan_speed=(Math.max(1,1+((o.sW+o.sH)/500))+(o.pan_speed_o*o.pan_speed_o/4))/Math.max(1,o.rA/2);if(o.cFlag._ml){o.oX-=o.pan_speed;o.cFlag._nd=false;o.cFlag._rs=false;o._recent="left";o._onfocus=o._dragging=false}if(o.cFlag._mr){o.oX+=o.pan_speed;o.cFlag._nd=false;o.cFlag._rs=false;o._recent="right";o._onfocus=o._dragging=false}if(o.cFlag._mu){o.oY-=o.pan_speed;o.cFlag._nd=false;o.cFlag._rs=false;o._recent="up";o._onfocus=o._dragging=false}if(o.cFlag._md){o.oY+=o.pan_speed;o.cFlag._nd=false;o.cFlag._rs=false;o._recent="down";o._onfocus=o._dragging=false}if(o.cFlag._rs){o.oX+=(o.fX-o.oX)/8;o.oY+=(o.fY-o.oY)/8;o.cFlag._nd=false;o._recent="reset";o._onfocus=o._dragging=false}if(o.zoom_single&&(o._recent!=="reset")){if(o._onfocus){o._sc+=(o.rA-o._sc)/o.reduction}else{o._sc=o.rA}}else{o._sc+=(o.rA-o._sc)/(o.ani_smooth/(o._onfocus?o.reduction:1))}o._w=o._sc*o.iW;o._h=o._sc*o.iH;if(o._dragging){o.tX=o.dX;o.tY=o.dY;o.changeOffset(true,true)}if(o._recent=="zoomIn"){if(o._w>(o.rA*o.iW)-p&&!o.zoom_single){if(o.cFlag._nd){o.ani_end=true}o._sc=o.rA}else{if(o._w>(o.zoom_max*o.iW)-p&&o.zoom_single){if(o.cFlag._nd){o.ani_end=true}o._sc=o.rA=o.zoom_max}}if(o.ani_end){o._w=o._sc*o.iW;o._h=o._sc*o.iH}}else{if(o._recent=="zoomOut"){if(o._w<(o.rA*o.iW)+p&&!o.zoom_single){if(o.cFlag._nd){o.ani_end=true}o._sc=o.rA}else{if(o._w<(o.rF*o.iW)+p&&o.zoom_single){if(o.cFlag._nd){o.ani_end=true}o._sc=o.rA=o.rF}}if(o.ani_end){o._w=o._sc*o.iW;o._h=o._sc*o.iH}}}o.limitX=(((o._w-o.sW)/(o._w/o.sW))/2);o.limitY=(((o._h-o.sH)/(o._h/o.sH))/2);if(!o._dragging){if(o.pan_limit){o.oX<-o.limitX-o.focusOffX?o.oX=-o.limitX-o.focusOffX:"";o.oX>o.limitX-o.focusOffX?o.oX=o.limitX-o.focusOffX:"";if(o._w<o.sW){o.tX=(o.sW-o._w)/2;o.changeOffset(true,false)}o.oY<-o.limitY-o.focusOffY?o.oY=-o.limitY-o.focusOffY:"";o.oY>o.limitY-o.focusOffY?o.oY=o.limitY-o.focusOffY:"";if(o._h<o.sH){o.tY=(o.sH-o._h)/2;o.changeOffset(false,true)}}else{if(o.oX<-o.limitX-(o.focusOffX/o._w*o.sW)-((o.sW/2)/(o._w/o.sW))){o.oX=-o.limitX-(o.focusOffX/o._w*o.sW)-((o.sW/2)/(o._w/o.sW))}if(o.oX>o.limitX-(o.focusOffX/o._w*o.sW)+((o.sW/2)/(o._w/o.sW))){o.oX=o.limitX-(o.focusOffX/o._w*o.sW)+((o.sW/2)/(o._w/o.sW))}if(o.oY<-o.limitY-(o.focusOffY/o._h*o.sH)-(o.sH/(o._h/o.sH*2))){o.oY=-o.limitY-(o.focusOffY/o._h*o.sH)-(o.sH/(o._h/o.sH*2))}if(o.oY>o.limitY-(o.focusOffY/o._h*o.sH)+(o.sH/(o._h/o.sH*2))){o.oY=o.limitY-(o.focusOffY/o._h*o.sH)+(o.sH/(o._h/o.sH*2))}}}if(!o._dragging&&o._recent!="drag"){o.tX=((o.sW-o._w)/2)+o.focusOffX+(o.oX*(o._w/o.sW));o.tY=((o.sH-o._h)/2)+o.focusOffY+(o.oY*(o._h/o.sH))}if(o._recent=="zoomIn"||o._recent=="zoomOut"||o.cFlag._rs){o._x=o.tX;o._y=o.tY}else{o._x+=(o.tX-o._x)/(o.ani_smooth/(o._onfocus?o.reduction:1));o._y+=(o.tY-o._y)/(o.ani_smooth/(o._onfocus?o.reduction:1))}if(o._recent=="left"){if(o._x<o.tX+p){o.cFlag._nd?o.ani_end=true:"";o._recent="";o._x=o.tX}}else{if(o._recent=="right"){if(o._x>o.tX-p){o.cFlag._nd?o.ani_end=true:"";o._recent="";o._x=o.tX}}else{if(o._recent=="up"){if(o._y<o.tY+p){o.cFlag._nd?o.ani_end=true:"";o._recent="";o._y=o.tY}}else{if(o._recent=="down"){if(o._y>o.tY-p){o.cFlag._nd?o.ani_end=true:"";o._recent="";o._y=o.tY}}else{if(o._recent=="drag"){if(o._x+p>=o.tX&&o._x-p<=o.tX&&o._y+p>=o.tY&&o._y-p<=o.tY){if(o._onfocus){o._dragging=false}o.cFlag._nd?o.ani_end=true:"";o._recent="";o._x=o.tX;o._y=o.tY}}}}}}if(o.cFlag._rs){if(o._w+p>=(o.rA*o.iW)&&o._w-p<=(o.rA*o.iW)&&o._x==o.tX&&o._y==o.tY&&o.oX<p&&o.oX>-p&&o.oY<p&&o.oY>-p){o.ani_end=true;o._recent="";o.cFlag._rs=false;o.cFlag._nd=true;o._x=o.tX;o._y=o.tY;o._sc=o.rA;o._w=o._sc*o.iW;o._h=o._sc*o.iH}}if(o.rA==o.rF){if(o.buttons[1].$ob.css("opacity")>0.5){if(o.rA>=o.rF){if(o.pan_limit&&o._moveCursor&&!o._moveCursor){o.$image.css("cursor","default"),o.$hitArea.css("cursor","default")}for(var q=1;q<(o.pan_limit&&!o._moveCursor?o.buttons_total:2);q++){o.buttons[q].$ob.css({opacity:0.4});o._wheel=false;o.$holder.find("#"+o.buttons[q]._var+"norm").show();o.$holder.find("#"+o.buttons[q]._var+"over").hide()}}}}else{if(o.buttons[1].$ob.css("opacity")<0.5){if(o._moveCursor){o.$image.css("cursor","move"),o.$hitArea.css("cursor","move")}for(var q=1;q<o.buttons_total;q++){o.buttons[q].$ob.css({opacity:0.7})}}}if(o.rA==o.zoom_max){if(o.buttons[0].$ob.css("opacity")>0.5){o.buttons[0].$ob.css({opacity:0.4});o._wheel=false;o.$holder.find("#"+o.buttons[0]._var+"norm").show();o.$holder.find("#"+o.buttons[0]._var+"over").hide()}}else{if(o.buttons[0].$ob.css("opacity")<0.5){o.buttons[0].$ob.css({opacity:0.7})}}if(e){o.$image.css(n,"left top");o.$image.css(c,"translate3d("+o._x+"px,"+o._y+"px,0) scale("+o._sc+")")}else{if(m){o.$image.css(n,"left top");o.$image.css(c,"translate("+o._x+"px,"+o._y+"px) scale("+o._sc+")")}else{o.$image.css({width:o._w,height:o._h,left:o._x+"px",top:o._y+"px"})}}if(o.$loc_cont){o.updateLocations(o._x,o._y,o._sc,o.locations)}if(!m&&!e){o.map_coordinates.length>0?o.updateMap(o.mapAreas,o.map_coordinates,o._sc):""}if(o.ani_end&&o._playing&&!o._dragging&&o._recent!="drag"){o._playing=false;o._recent="";if(o.onUPDATE!==""){o.onUPDATE(o.getZoomData(),false)}if(o.onZOOM_PAN!==""){o.onZOOM_PAN(o.getZoomData())}clearTimeout(o.ani_timer)}else{o._playing=true;if(o.onUPDATE!==""){o.onUPDATE(o.getZoomData(),true)}o.ani_timer=setTimeout(function(){o.Animate()},28)}},updateLocations:function(t,r,s,v){if(this.onLANDMARK!==""){if(s>=this.show_at_zoom){if(!this._landmark){this.onLANDMARK(this._landmark=true)}}else{if(this._landmark){this.onLANDMARK(this._landmark=false)}}}for(var u=0;u<v.length;u++){var q=(v[u].x*s)+t;var o=(v[u].y*s)+r;if(s>=v[u].showAt){if(q>-v[u].w2pad&&q<this.sW+v[u].w2pad&&((o>-v[u].h2&&o<this.sH+v[u].h2&&v[u].lab)||(o>0&&o<this.sH+(v[u].h2*2)&&!v[u].lab))){if(!v[u].vis){v[u].vis=true;v[u].ob.stop().css({display:"block"}).animate({opacity:1},300)}}else{if(v[u].vis){v[u].vis=false;v[u].ob.stop().animate({opacity:0},200,function(){f(this).hide()})}}}else{if(v[u].vis){v[u].vis=false;v[u].ob.stop().animate({opacity:0},200,function(){f(this).hide()})}}if(q!==v[u].lpx||o!==v[u].lpy&&v[u].vis){if(e){v[u].ob.css(n,"left top");v[u].ob.css(c,"translate3d("+q+"px,"+o+"px, 0px)")}else{if(m){v[u].ob.css(n,"left top");v[u].ob.css(c,"translate("+q+"px,"+o+"px)")}else{v[u].ob.css({left:q,top:o})}}}v[u].lpx=q;v[u].lpy=o}},roundBG:function(p,y,v,s,z,o,u,r,t,q){var x=50/2;f('<div class="bgi'+y+'" style="background-position:'+(-(o-z))+"px "+(-(x-z)-q)+'px"></div>').appendTo(p);f('<div class="bgh'+y+'"></div>').appendTo(p);f('<div class="bgi'+y+'" style="background-position:'+(-o)+"px "+(-(x-z)-q)+"px; left:"+(v-z)+'px"></div>').appendTo(p);f('<div class="bgi'+y+'" style="background-position:'+(-(o-z))+"px "+(-x-q)+"px; top:"+(s-z)+'px"></div>').appendTo(p);f('<div class="bgh'+y+'" style = "top:'+(s-z)+"px; left:"+z+'px"></div>').appendTo(p);f('<div class="bgi'+y+'" style="background-position:'+(-o)+"px "+(-x-q)+"px; top:"+(s-z)+"px; left:"+(v-z)+'px"></div>').appendTo(p);f('<div class="bgc'+y+'"></div>').appendTo(p);f(".bgi"+y).css({position:"absolute",width:z+"px",height:z+"px","background-image":"url("+r+")","background-repeat":"no-repeat","-ms-filter":"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)",zoom:1});f(".bgh"+y).css({position:"absolute",width:v-z*2,height:z+"px","background-color":u,left:z});f(".bgc"+y).css({position:"absolute",width:v,height:s-z*2,"background-color":u,top:z,left:0})},changeOffset:function(o,p){if(o){this.oX=(this.tX-((this.sW-this._w)/2)-this.focusOffX)/(this._w/this.sW)}if(p){this.oY=(this.tY-((this.sH-this._h)/2)-this.focusOffY)/(this._h/this.sH)}},updateMap:function(o,p,q){var r=0;o.each(function(){var s=[];for(var t=0;t<p[r].length;t++){s[t]=p[r][t]*q}s=s.join(",");f(this).attr("coords",s);r++})},haltAnimation:function(){clearTimeout(this.ani_timer);this._playing=false;this._recent=""},destroy:function(){var o=this;if(o.assetsLoaded){o.haltAnimation();for(prop in o.orig_style){if(o.orig_style[prop][0]!==false&&o.orig_style[prop][0]!==undefined){if(o.orig_style[prop][0]==="width"||o.orig_style[prop][0]==="height"){if(parseInt(o.orig_style[prop][1])!==0){o.$image.css(o.orig_style[prop][0],o.orig_style[prop][1])}}else{o.$image.css(o.orig_style[prop][0],o.orig_style[prop][1])}}}clearTimeout(o.auto_timer);f(l).unbind(".smoothZoom"+o.id);f(i).unbind(".smoothZoom"+o.id);o.$holder.unbind(".smoothZoom");o.$controls=undefined}else{o.$image.show()}if(o.container==""){if(o.image_url==""){o.$image.insertBefore(o.$holder);if(o.$holder!==undefined){o.$holder.remove()}}else{o.$elem.empty();if(o.$loc_cont[0]){o.$elem.append(o.loc_clone)}}}else{o.$image.insertBefore(o.$holder);o.$holder.empty();o.$image.wrap(o.$holder);if(o.$loc_cont[0]){o.$elem.append(o.loc_clone)}}o.$elem.removeData("smoothZoom");o.$holder=undefined;o.Buttons=undefined;o.op=undefined;o.$image=undefined},focusTo:function(p){var o=this;if(o.assetsLoaded){if(p.zoom===undefined||p.zoom===""||p.zoom==0){p.zoom=o.rA}else{p.zoom/=100}o._onfocus=true;if(p.zoom>o.rA&&o.rA!=o.zoom_max){o.rA=p.zoom;o.rA>o.zoom_max?o.rA=o.zoom_max:""}else{if(p.zoom<o.rA&&o.rA!=o.rF){o.rA=p.zoom;o.rA<o.rF?o.rA=o.rF:""}}o.transOffX=o.transOffY=0;o.setDraggedPos(p.x===undefined||p.x===""?"":(-p.x*o.rA)+(o.sW/2),p.y===undefined||p.y===""?"":(-p.y*o.rA)+(o.sH/2),o.rA);o.reduction=p.speed?p.speed/10:o.focusSpeed;o._recent="drag";o._dragging=true;if(!o._playing){o.Animate()}}},zoomIn:function(o){this.buttons[0].$ob.trigger("mousedown.smoothZoom",{id:0})},zoomOut:function(o){this.buttons[1].$ob.trigger("mousedown.smoothZoom",{id:1})},moveRight:function(o){this.buttons[2].$ob.trigger("mousedown.smoothZoom",{id:2})},moveLeft:function(o){this.buttons[3].$ob.trigger("mousedown.smoothZoom",{id:3})},moveUp:function(o){this.buttons[4].$ob.trigger("mousedown.smoothZoom",{id:4})},moveDown:function(o){this.buttons[5].$ob.trigger("mousedown.smoothZoom",{id:5})},Reset:function(o){this.buttons[6].$ob.trigger("mousedown.smoothZoom",{id:6})},getZoomData:function(o){return{normX:-this._x/this.rA,normY:-this._y/this.rA,normWidth:this.iW,normHeight:this.iH,scaledX:-this._x,scaledY:-this._y,scaledWidth:this._w,scaledHeight:this._h,centerX:(-parseInt(this._x)+(this.sW/2))/this.rA,centerY:(-parseInt(this._y)+(this.sH/2))/this.rA,ratio:this.rA}},addLandmark:function(r){if(this.$loc_cont){var q=r.length;for(var p=0;p<q;p++){var o=f(r[p]);this.$loc_cont.append(o);this.setLocation(o)}if(q>0){this.updateLocations(this._x,this._y,this._sc,this.locations)}}},attachLandmark:function(q){if(this.$loc_cont){var p=q.length;for(var o=0;o<p;o++){this.setLocation(q[o] instanceof jQuery?q[o]:f("#"+q[o]))}if(p>0){this.updateLocations(this._x,this._y,this._sc,this.locations)}}},removeLandmark:function(r){if(this.$loc_cont){if(r){var q=r.length;for(var p=0;p<q;p++){for(var o=0;o<this.locations.length;o++){if((r[p] instanceof jQuery&&this.locations[o].ob[0]==r[p][0])||(!(r[p] instanceof jQuery)&&this.locations[o].ob.attr("id")==r[p])){this.locations[o].ob.remove();this.locations.splice(o,1);o--}}}}else{if(this.locations.length>0){this.locations[this.locations.length-1].ob.remove();this.locations.pop()}}if(q>0){this.updateLocations(this._x,this._y,this._sc,this.locations)}}},refreshAllLandmarks:function(){var o=this;var r=o.$loc_cont.children(".item");o.show_at_zoom=parseInt(o.$loc_cont.data("show-at-zoom"),10)/100;o.allow_drag=o.$loc_cont.data("allow-drag");o.allow_drag=o.allow_drag?o.allow_drag===true?true:o.allow_drag.toLowerCase()=="yes"||o.allow_drag.toLowerCase()=="true"?true:false:false;for(var p=0;p<o.locations.length;p++){var q=false;r.each(function(){if(o.locations[p].ob[0]==f(this)[0]){q=true}});if(!q){o.locations.splice(p,1);p--}}r.each(function(){var t=false;for(var s=0;s<o.locations.length;s++){if(o.locations[s].ob[0]==f(this)[0]){t=true;break}}if(!t){o.setLocation(f(this))}});this.updateLocations(this._x,this._y,this._sc,this.locations)}};f.fn.z=function(t){var r=this;var p=r.length;for(var s=0;s<p;s++){var q=f(r[s]);var o=q.data("smoothZoom");if(!o){if(typeof t==="object"||!t){q.data("smoothZoom",new j(q,t))}}else{if(t=="getZoomData"){return o[t].apply(o,Array.prototype.slice.call(arguments,1))}else{if(o[t]){o[t].apply(o,Array.prototype.slice.call(arguments,1))}}}}if(t!=="getZoomData"){return this}};var b=function(ap,ao,an){function I(o){ag.cssText=o}function aa(p,o){return I(ad.join(p+";")+(o||""))}function Y(p,o){return typeof p===o}function W(p,o){return !!~(""+p).indexOf(o)}function U(p,o){for(var q in p){if(ag[p[q]]!==an){return o=="pfx"?p[q]:!0}}return !1}function S(p,o,s){for(var r in p){var q=o[p[r]];if(q!==an){return s===!1?p[r]:Y(q,"function")?q.bind(s||o):q}}return !1}function Q(p,o,s){var r=p.charAt(0).toUpperCase()+p.substr(1),q=(p+" "+ab.join(r+" ")+r).split(" ");return Y(o,"string")||Y(o,"undefined")?U(q,o):(q=(p+" "+Z.join(r+" ")+r).split(" "),S(q,o,s))}var am="2.5.3",al={},ak=!0,aj=ao.documentElement,ai="modernizr",ah=ao.createElement(ai),ag=ah.style,af,ae={}.toString,ad=" -webkit- -moz- -o- -ms- ".split(" "),ac="Webkit Moz O ms",ab=ac.split(" "),Z=ac.toLowerCase().split(" "),X={},V={},T={},R=[],P=R.slice,O,M=function(x,w,v,u){var t,s,r,q=ao.createElement("div"),p=ao.body,o=p?p:ao.createElement("body");if(parseInt(v,10)){while(v--){r=ao.createElement("div"),r.id=u?u[v]:ai+(v+1),q.appendChild(r)}}return t=["&#173;","<style>",x,"</style>"].join(""),q.id=ai,o.innerHTML+=t,o.appendChild(q),p||(o.style.background="",aj.appendChild(o)),s=w(q,x),p?q.parentNode.removeChild(q):o.parentNode.removeChild(o),!!s},K={}.hasOwnProperty,J;!Y(K,"undefined")&&!Y(K.call,"undefined")?J=function(p,o){return K.call(p,o)}:J=function(p,o){return o in p&&Y(p.constructor.prototype[o],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(o){var r=this;if(typeof r!="function"){throw new TypeError}var q=P.call(arguments,1),p=function(){if(this instanceof p){var s=function(){};s.prototype=r.prototype;var u=new s,t=r.apply(u,q.concat(P.call(arguments)));return Object(t)===t?t:u}return r.apply(o,q.concat(P.call(arguments)))};return p});var N=function(o,r){var q=o.join(""),p=r.length;M(q,function(s,x){var w=ao.styleSheets[ao.styleSheets.length-1],v=w?w.cssRules&&w.cssRules[0]?w.cssRules[0].cssText:w.cssText||"":"",u=s.childNodes,t={};while(p--){t[u[p].id]=u[p]}al.csstransforms3d=(t.csstransforms3d&&t.csstransforms3d.offsetLeft)===9&&t.csstransforms3d.offsetHeight===3},p,r)}([,["@media (",ad.join("transform-3d),("),ai,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join("")],[,"csstransforms3d"]);X.borderradius=function(){return Q("borderRadius")},X.csstransforms=function(){return !!Q("transform")},X.csstransforms3d=function(){var o=!!Q("perspective");return o&&"webkitPerspective" in aj.style&&(o=al.csstransforms3d),o};for(var L in X){J(X,L)&&(O=L.toLowerCase(),al[O]=X[L](),R.push((al[O]?"":"no-")+O))}return I(""),ah=af=null,al._version=am,al._prefixes=ad,al._domPrefixes=Z,al._cssomPrefixes=ab,al.testProp=function(o){return U([o])},al.testAllProps=Q,al.testStyles=M,al.prefixed=function(p,o,q){return o?Q(p,o,q):Q(p,"pfx")},aj.className=aj.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(ak?" js "+R.join(" "):""),al}(this,this.document);var k=f.browser.mozilla&&(parseFloat(f.browser.version)<1.9)?true:false;var h=f.browser.msie&&parseInt(f.browser.version,10)<=6?true:false;var c=b.prefixed("transform");var n=b.prefixed("transformOrigin");var m=b.csstransforms&&c!==false&&n!==false?true:false;var e=b.csstransforms3d&&c!==false&&n!==false?true:false;var g=f.browser.mozilla&&k?false:b.borderradius;var a=h?false:true})(jQuery,window,document);(function(f){function g(a){var n=a||window.event,m=[].slice.call(arguments,1),l=0,k=!0,j=0,i=0;return a=f.event.fix(n),a.type="mousewheel",n.wheelDelta&&(l=n.wheelDelta/120),n.detail&&(l=-n.detail/3),i=l,n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS&&(i=0,j=-1*l),n.wheelDeltaY!==undefined&&(i=n.wheelDeltaY/120),n.wheelDeltaX!==undefined&&(j=-1*n.wheelDeltaX/120),m.unshift(a,l,j,i),(f.event.dispatch||f.event.handle).apply(this,m)}var e=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks){for(var h=e.length;h;){f.event.fixHooks[e[--h]]=f.event.mouseHooks}}f.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var b=e.length;b;){this.addEventListener(e[--b],g,!1)}}else{this.onmousewheel=g}},teardown:function(){if(this.removeEventListener){for(var b=e.length;b;){this.removeEventListener(e[--b],g,!1)}}else{this.onmousewheel=null}}},f.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);var ani_smooth;var zoom_speed;var pan_speed;function setSmooth(a){a=(((a-108)/100)*10)+1;a>10?a=10:"";a<1?a=1:"";zoomer_.ani_smooth=Math.max(1.5,a-1);return a}function setSpeed(a){a=(((a-108)/100)*10)+1;a>10?a=10:"";a<1?a=1:"";zoomer_.zoom_speed=1+((a+1)/20);zoomer_.pan_speed=((sW+sH)/500)-1+(a*a/4)+2;return a}function setLable(c,b,a,e){sW=a;sH=e;var d=String(parseInt(b*10)/10);d.length<2?d=d+".0":"";c.html(d)}jQuery(function(c){var h=c(document);var j=c("#cont");var f=c("#settings");f.addClass("noSel");var a=c("#barSmooth").css({left:smPos+"px"});var e=c("#barSmooth_t").css({left:smPos-3+"px","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none",cursor:"default"}).addClass("noSel").hide();var i=false;a.bind("mouseover",function(k){a.css("background-position","-1025px 0px");if(!g){e.show()}}).bind("mouseout",function(k){if(!i){a.css("background-position","-1011px 0px"),e.hide()}}).bind("mousedown",function(l){i=true;e.show();a.css("background-position","-1025px 0px");offX=l.pageX-f.offset().left-a.position().left;h.bind("mousemove.preview",function(o){var m=o.pageX-f.offset().left-offX;m<112?m=108:"";m>194?m=198:"";m>148&&m<158?m=153:"";a.css({left:m+"px"});e.css({left:m-3+"px"});var n=setSmooth(a.position().left);setLable(e,n);return false});var k=setSmooth(a.position().left);setLable(e,k);l.stopPropagation();(c.browser.msie||l.preventDefault())}).addClass("noSel");a.bind("touchstart.preview",function(l){l.preventDefault();offX=l.originalEvent.changedTouches[0].pageX-f.offset().left-a.position().left;i=true;var k=setSmooth(a.position().left);setLable(e,k);a.css("background-position","-1025px 0px");e.show()});var d=c("#barSpeed").css({left:spPos+"px"});var b=c("#barSpeed_t").css({left:spPos-3+"px","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none",cursor:"default"}).addClass("noSel").hide();var g=false;d.bind("mouseover",function(k){d.css("background-position","-1025px 0px");if(!i){b.show()}}).bind("mouseout",function(k){if(!g){d.css("background-position","-1011px 0px"),b.hide()}}).bind("mousedown",function(l){g=true;b.show();d.css("background-position","-1025px 0px");offX=l.pageX-f.offset().left-d.position().left;h.bind("mousemove.preview",function(o){var m=o.pageX-f.offset().left-offX;m<112?m=108:"";m>194?m=198:"";m>148&&m<158?m=153:"";d.css({left:m+"px"});b.css({left:m-3+"px"});var n=setSpeed(d.position().left);setLable(b,n);return false});var k=setSpeed(d.position().left);setLable(b,k);l.stopPropagation();(c.browser.msie||l.preventDefault())}).addClass("noSel");d.bind("touchstart.preview",function(l){l.preventDefault();offX=l.originalEvent.changedTouches[0].pageX-f.offset().left-d.position().left;g=true;var k=setSmooth(d.position().left);setLable(b,k);d.css("background-position","-1011px 0px");b.show()});h.bind("mouseup.preview",function(m){if(i){i=false;e.hide();h.unbind("mousemove.preview");var k=m.pageX-f.offset().left-offX;k<112?k=108:"";k>194?k=198:"";k>148&&k<158?k=153:"";a.css({left:k+"px"});e.css({left:k-3+"px"});l=setSmooth(a.position().left);setLable(e,l);a.css("background-position","-1011px 0px")}if(g){g=false;b.hide();h.unbind("mousemove.preview");var k=m.pageX-f.offset().left-offX;k<112?k=108:"";k>194?k=198:"";k>148&&k<158?k=153:"";d.css({left:k+"px"});b.css({left:k-3+"px"});var l=setSpeed(d.position().left);setLable(b,l);d.css("background-position","-1011px 0px")}});j.bind("touchmove.preview",function(m){m.preventDefault();if(i){var k=m.originalEvent.changedTouches[0].pageX-f.offset().left-offX;k<112?k=108:"";k>194?k=198:"";k>148&&k<158?k=153:"";a.css({left:k+"px"});e.css({left:k-3+"px"});var l=setSmooth(a.position().left);setLable(e,l)}if(g){var k=m.originalEvent.changedTouches[0].pageX-f.offset().left-offX;k<112?k=108:"";k>194?k=198:"";k>148&&k<158?k=153:"";d.css({left:k+"px"});b.css({left:k-3+"px"});var l=setSpeed(d.position().left);setLable(b,l)}});j.bind("touchend.preview",function(k){k.preventDefault();if(i){i=false;e.hide();setSmooth(((a.position().left-108)/100)*10);a.css("background-position","-1011px 0px")}if(g){g=false;b.hide();setSpeed(((d.position().left-108)/100)*10);d.css("background-position","-1011px 0px")}});c("#cont").addClass("noSel");c(".noSel").each(function(){this.onselectstart=function(){return false}});c("#s"+sample).css({"background-position":((sample-1)*-111)+"px -44px",cursor:"pointer"});c("#s1").bind("mouseover",function(k){if(sample!==1){c(this).css({"background-position":"0px -22px",cursor:"pointer"})}}).bind("mouseout",function(k){if(sample!==1){c(this).css({"background-position":"0px 0px",cursor:"default"})}}).bind("click",function(k){if(sample!==1){c(this).css("background-position","0px -44px"),c("#s2").css("background-position","-111px 0px"),c("#s3").css("background-position","-222px 0px"),c("#s4").css("background-position","-333px 0px"),c("#s5").css("background-position","-444px 0px"),c("#s6").css("background-position","-555px 0px"),c("#s7").css("background-position","-666px 0px"),sample=1}});c("#s2").bind("mouseover",function(k){if(sample!==2){c(this).css({"background-position":"-111px -22px",cursor:"pointer"})}}).bind("mouseout",function(k){if(sample!==2){c(this).css({"background-position":"-111px 0px",cursor:"default"})}}).bind("click",function(k){if(sample!==2){c(this).css("background-position","-111px -44px"),c("#s1").css("background-position","0px 0px"),c("#s3").css("background-position","-222px 0px"),c("#s4").css("background-position","-333px 0px"),c("#s5").css("background-position","-444px 0px"),c("#s6").css("background-position","-555px 0px"),c("#s7").css("background-position","-666px 0px"),sample=2}});c("#s3").bind("mouseover",function(k){if(sample!==3){c(this).css({"background-position":"-222px -22px",cursor:"pointer"})}}).bind("mouseout",function(k){if(sample!==3){c(this).css({"background-position":"-222px 0px",cursor:"default"})}}).bind("click",function(k){if(sample!==3){c(this).css("background-position","-222px -44px"),c("#s1").css("background-position","0px 0px"),c("#s2").css("background-position","-111px 0px"),c("#s4").css("background-position","-333px 0px"),c("#s5").css("background-position","-444px 0px"),c("#s6").css("background-position","-555px 0px"),c("#s7").css("background-position","-666px 0px"),sample=3}});c("#s4").bind("mouseover",function(k){if(sample!==4){c(this).css({"background-position":"-333px -22px",cursor:"pointer"})}}).bind("mouseout",function(k){if(sample!==4){c(this).css({"background-position":"-333px 0px",cursor:"default"})}}).bind("click",function(k){if(sample!==4){c(this).css("background-position","-333px -44px"),c("#s1").css("background-position","0px 0px"),c("#s2").css("background-position","-111px 0px"),c("#s3").css("background-position","-222px 0px"),c("#s5").css("background-position","-444px 0px"),c("#s6").css("background-position","-555px 0px"),c("#s7").css("background-position","-666px 0px"),sample=4}});c("#s5").bind("mouseover",function(k){if(sample!==5){c(this).css({"background-position":"-444px -22px",cursor:"pointer"})}}).bind("mouseout",function(k){if(sample!==5){c(this).css({"background-position":"-444px 0px",cursor:"default"})}}).bind("click",function(k){if(sample!==5){c(this).css("background-position","-444px -44px"),c("#s1").css("background-position","0px 0px"),c("#s2").css("background-position","-111px 0px"),c("#s3").css("background-position","-222px 0px"),c("#s4").css("background-position","-333px 0px"),c("#s6").css("background-position","-555px 0px"),c("#s7").css("background-position","-666px 0px"),sample=5}});c("#s6").bind("mouseover",function(k){if(sample!==6){c(this).css({"background-position":"-555px -22px",cursor:"pointer"})}}).bind("mouseout",function(k){if(sample!==6){c(this).css({"background-position":"-555px 0px",cursor:"default"})}}).bind("click",function(k){if(sample!==6){c(this).css("background-position","-555px -44px"),c("#s1").css("background-position","0px 0px"),c("#s2").css("background-position","-111px 0px"),c("#s3").css("background-position","-222px 0px"),c("#s4").css("background-position","-333px 0px"),c("#s5").css("background-position","-444px 0px"),c("#s7").css("background-position","-666px 0px"),sample=6}});c("#s7").bind("mouseover",function(k){if(sample!==7){c(this).css({"background-position":"-666px -22px",cursor:"pointer"})}}).bind("mouseout",function(k){if(sample!==7){c(this).css({"background-position":"-666px 0px",cursor:"default"})}}).bind("click",function(k){if(sample!==7){c(this).css("background-position","-666px -44px"),c("#s1").css("background-position","0px 0px"),c("#s2").css("background-position","-111px 0px"),c("#s3").css("background-position","-222px 0px"),c("#s4").css("background-position","-333px 0px"),c("#s5").css("background-position","-444px 0px"),c("#s6").css("background-position","-555px 0px"),sample=7}})});